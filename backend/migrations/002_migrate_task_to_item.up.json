[
    {
        "update": "tasks",
        "updates": [
            {
                "q": {
                    "$and": [
                        {"source_id": {"$ne": "gmail"}},
                        {"source_id": {"$ne": "gcal"}}
                    ]
                },
                "u": {
                    "$set": {
                        "task_type.is_task": true,
                        "task_type.is_message": false,
                        "task_type.is_event": false
                    }
                },
                "multi": true
            },
            {
                "q": {"source_id": "gmail"},
                "u": {
                    "$set": {
                        "task_type.is_task": false,
                        "task_type.is_message": true,
                        "task_type.is_event": false
                    }
                },
                "multi": true
            },
            {
                "q": {"source_id": "gcal"},
                "u": {
                    "$set": {
                        "task_type.is_task": false,
                        "task_type.is_message": false,
                        "task_type.is_event": true

                    }
                },
                "multi": true
            }
        ]
    }
]
